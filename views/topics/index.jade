extends ../layout

block vars
	- var pageTitle = "English - 1888 · STM"
	- var thisPage = "topics"

block content
	.container(data-context = "topicsContext")
		#hidden-content(style = "display: none")
			#topicsList
				.list-group(style = "margin: -10px -15px")
					a.list-group-item(href = "#", data-foreach-topic = "filteredTopics", data-bind = "topic.html | raw", data-addclass-active = "topic.active", data-bind-data-id = "topic.topic.id", data-event-mousedown = "appContext.topicsContext.gotoTopic")
		.row
			.col-md-4.col-md-offset-4
				nav.navbar.navbar-default
					form.navbar-form
						input#topicSearch.form-control(type = "text", placeholder = "Topic…", style = "width: 100%", data-bind = "topicSearch_text", data-event-keydown = "appContext.topicsContext.topicSearch_keydown", data-event-input = "appContext.topicsContext.topicSearch_input", autocomplete = "off")
		.row(data-showif = "isCurrentTopicSelected", style = "display: none")
			.col-md-6
				.panel.panel-default
					.panel-heading
						h3.panel-title Top-ranked Words
					.panel-body
						#wordcloud(style = "height: 220px; position: relative")
				.panel.panel-default
					.panel-heading
						h3.panel-title Top-ranked Phrases
					.panel-body
						#phrasecloud(style = "height: 220px; position: relative")
			.col-md-6(data-context = "currentTopic")
				#relatedArticles.panel.panel-default
					.panel-heading
						h3.panel-title Related Articles
					.list-group
						a.list-group-item(href = "#", data-foreach-record = "filteredRecords", data-addclass-active = "record.active", data-event-click = "appContext.topicsContext.currentTopic.gotoRecord")
							span(data-bind = "record.record.article_id")
							svg(height = 36, width = 36)
								path(data-bind-d = "record.record.proportionPie")
								circle(cx = 18, cy = 18, r = 15)
					.panel-body
						p(data-bind = "activeRecord.article")